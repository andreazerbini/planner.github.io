Sei un esperto senior di Javascript vanilla.
Il codice sorgente di questo progetto deve continuare ad essere serverless (cioè deve poter funzionare in modo statico senza un server che fa serve della pagina: ovvero doppio click su html e lavori sul browser; mentre per le funzioni GOOGLE-API sarà necessario al più avviare python server in locale) in modo tale che segua le best-practice di un codice sorgente ben scritto, facilissimo da comprendere e da leggere e ben commentato.
Meglio se riesci a lasciare tutto su un file unico html, ma ben organizato al suo interno.

Partiamo dal DOMINIO, ovvero il nostro JSON.
La radice contiene la collezione di "Ruoli". Ogni Ruolo possiede un titolo e una importanza (intero ≥1) e racchiude gli "obiettivi a lungo termine" (LT).
Ogni obiettivo LT ha titolo, descrizione, importanza obbligatoria e data di scadenza obbligatoria, e può essere scomposto in "obiettivi a breve termine" (ST) con titolo, descrizione, importanza opzionale e scadenza opzionale.
Gli obiettivi ST racchiudono le attività. Ciascuna attività ha titolo, descrizione, importanza opzionale, scadenza opzionale e stato.
Lo stato di una attività può assumere uno dei seguenti valori: "Da pensare meglio" (grigio), "Da fare" (azzurro), "In evoluzione" (giallo), "Paused" (arancione), "Fatto" (verde), "Rejected" (rosso).
La gerarchia è quindi: Ruolo → Obiettivo lungo termine → Obiettivo breve termine → Attività.
Gli obiettivi LT devono sempre avere importanza e scadenza. Gli elementi figli ereditano importanza e scadenza quando non sono valorizzati, e possono personalizzarli solo rispettando i vincoli: nessuna scadenza oltre il genitore e nessuna importanza superiore a quella del genitore.


Adesso passiamo alle VISTE che desideriamo avere.
Premesso che restano sempre visibili i tasti di salvataggio in alto (com'è oggi) e l'indicatore se Google Drive è connesso, è necessaria una revisione totale del resto.
Ci saranno i seguenti TAB, ciascuno mostrerà una sotto-vista differente:
- Ruoli: permette di impostare i ruoli.
- Obiettivi a lungo termine: permette di definire, modificare o eliminare gli obiettivi (operazioni di modifica o eliminazione devono controllare che gli oggetti figli siano coerenti: in caso di eliminazione ci vuole un alert prima e poi la cancellazione anche dei figli; in caso di modifica dell'importanza e della scadenza: vanno presi anche tutti i figli e se la loro scadenza o importanza eccede, vanno riportati al nuovo valore massimo).
- Obiettivi a breve termine: come sopra, i controlli in questo caso si faranno solo sulle attività sottostanti.
- Attività: pannello dove si può agire sulle attività, modificando anche lo stato tramite un menù a tendina. La vista espone un blocco filtri condiviso con la Dashboard (intervallo di importanza con estremi aperti, stato, intervallo di scadenza con estremi aperti e ricerca full text su titolo/descrizione) e pulsanti per esportare in CSV tutte le attività visibili e per importare un CSV con la stessa struttura, associando i task ai genitori per nome e creando gli antenati mancanti.

Tutti i tab descritti sopra organizzano i valori in tabelle che sono ordinabili per i vari campi.

Altro TAB:
- Dashboard: vista a card organizzata in una Kanban con colonne corrispondenti ai vari stati delle attività. Ogni card mostra in breve la gerarchia di provenienza, il titolo del task, i primi N caratteri della descrizione, l'importanza e la scadenza; trascinando una card in un'altra colonna si aggiorna lo stato dell'attività. Anche qui sono presenti lo stesso blocco filtri della vista Attività e i comandi di import/export CSV delle attività correnti.


TODO:
- Bugfix
  - Importanza su "Task" non ha lo stesso controllo che c'è su LT e BT: per aggiornarsi devi cambiare tab ed è un bug. Deve comportarsi esattamente come i rispettivi campi di LT e BT: fare il check e limitarne il valore solo alla perdita di focus (blur)
  - Ordinare le card sulla Dashboard per importanza (valori più ati stanno sempre in cima)
  - Sella vista "Dashboard" compare il segnaposto "Nessuna attività. Trascina qui per cambiare stato." anche quando in realtà ci sono degli elementi da mostrare. Va quindi fixato così: tale segnaposto va inserito solo quando non ci sono task da mostrare per quella colonna. Tale segnaposto serve per far funzionare il drag&drop, ma in realtà deve essere sufficiente fare drag&drop di una card sull'intera colonna per spostare la card da uno stato all'altro.